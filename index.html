<!DOCTYPE html>
<html>
<head>
	<title>Web SDK Link Creation</title>
</head>
	<script type="text/javascript">
		(function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent".split(" "), 0);
		branch.init('key_live_chFeldxODbmZFLSfl3f7weipqBiPRiBt', function(err, data) {
			document.getElementsByClassName('info')[0].innerHTML = JSON.stringify(data);
		});
    
    function createLink() {
      branch.link({
          tags: [ 'tag1', 'tag2' ],
          channel: 'facebook',
          feature: 'dashboard',
          stage: 'new user',
          data: {
              '$ios_deeplink_path': "{\"version\":\"1.0\",\"sourceUrl\":\"http%3A%2F%2Flocalhost%3A3000%2FtestWidget.html\",\"data\":{\"items\":[\"% 3\/2  szklanki dobrej m\u0105ki np. tortowej  \",\" 1,2 szklanka mleka ( ciep\u0142ego, ale nie gor\u0105ce) \",\" 1\/2 szklanki wody ( letniej) \",\" 45 g. dro\u017cd\u017cy \u015bwie\u017cych \",\" 1\/4 \u0142y\u017ceczki cukru \",\" 1\/2  \u0142y\u017ceczki soli \",\" \u0142y\u017cka oliwy z oliwek \",\" 3 \u0142y\u017cki koncentratu pomidorowego \",\" 5-6 suszonych pomidor\u00f3w \",\" 1 \u0142y\u017cka ketchupu \",\" p\u00f3\u0142 \u0142y\u017ceczki oregano \",\" p\u00f3\u0142 \u0142y\u017ceczki bazylii \",\" 3\/2  szklanki dobrej m\u0105ki np. tortowej \",\" 1 szklanka mleka ( ciep\u0142ego, ale nie gor\u0105ce) \",\" 1\/2 szklanki wody ( letniej) \",\" 45 g. dro\u017cd\u017cy \u015bwie\u017cych \",\" 11\/4 \u0142y\u017ceczki cukru \",\" 1\/2  \u0142y\u017ceczki soli \",\" 1\u0142y\u017cka oliwy z oliwek \",\" 3 \u0142y\u017cki koncentratu pomidorowego \",\" 5-6 suszonych pomidor\u00f3w\"],\"name\":\"Pizza domowa -pyszna\"}}',
              '$deeplink_path': "{\"version\":\"1.0\",\"sourceUrl\":\"http%3A%2F%2Flocalhost%3A3000%2FtestWidget.html\",\"data\":{\"items\":[\"% 3\/2  szklanki dobrej m\u0105ki np. tortowej  \",\" 1,2 szklanka mleka ( ciep\u0142ego, ale nie gor\u0105ce) \",\" 1\/2 szklanki wody ( letniej) \",\" 45 g. dro\u017cd\u017cy \u015bwie\u017cych \",\" 1\/4 \u0142y\u017ceczki cukru \",\" 1\/2  \u0142y\u017ceczki soli \",\" \u0142y\u017cka oliwy z oliwek \",\" 3 \u0142y\u017cki koncentratu pomidorowego \",\" 5-6 suszonych pomidor\u00f3w \",\" 1 \u0142y\u017cka ketchupu \",\" p\u00f3\u0142 \u0142y\u017ceczki oregano \",\" p\u00f3\u0142 \u0142y\u017ceczki bazylii \",\" 3\/2  szklanki dobrej m\u0105ki np. tortowej \",\" 1 szklanka mleka ( ciep\u0142ego, ale nie gor\u0105ce) \",\" 1\/2 szklanki wody ( letniej) \",\" 45 g. dro\u017cd\u017cy \u015bwie\u017cych \",\" 11\/4 \u0142y\u017ceczki cukru \",\" 1\/2  \u0142y\u017ceczki soli \",\" 1\u0142y\u017cka oliwy z oliwek \",\" 3 \u0142y\u017cki koncentratu pomidorowego \",\" 5-6 suszonych pomidor\u00f3w\"],\"name\":\"Pizza domowa -pyszna\"}}',
              '$android_deeplink_path': "listonicbutton\/{\"version\":\"1.0\",\"sourceUrl\":\"http%3A%2F%2Flocalhost%3A3000%2FtestWidget.html\",\"data\":{\"items\":[\"% 3\/2  szklanki dobrej m\u0105ki np. tortowej  \",\" 1,2 szklanka mleka ( ciep\u0142ego, ale nie gor\u0105ce) \",\" 1\/2 szklanki wody ( letniej) \",\" 45 g. dro\u017cd\u017cy \u015bwie\u017cych \",\" 1\/4 \u0142y\u017ceczki cukru \",\" 1\/2  \u0142y\u017ceczki soli \",\" \u0142y\u017cka oliwy z oliwek \",\" 3 \u0142y\u017cki koncentratu pomidorowego \",\" 5-6 suszonych pomidor\u00f3w \",\" 1 \u0142y\u017cka ketchupu \",\" p\u00f3\u0142 \u0142y\u017ceczki oregano \",\" p\u00f3\u0142 \u0142y\u017ceczki bazylii \",\" 3\/2  szklanki dobrej m\u0105ki np. tortowej \",\" 1 szklanka mleka ( ciep\u0142ego, ale nie gor\u0105ce) \",\" 1\/2 szklanki wody ( letniej) \",\" 45 g. dro\u017cd\u017cy \u015bwie\u017cych \",\" 11\/4 \u0142y\u017ceczki cukru \",\" 1\/2  \u0142y\u017ceczki soli \",\" 1\u0142y\u017cka oliwy z oliwek \",\" 3 \u0142y\u017cki koncentratu pomidorowego \",\" 5-6 suszonych pomidor\u00f3w\"],\"name\":\"Pizza domowa -pyszna\"}}',
	      mydata: 'something',
              foo: 'bar',
              '$desktop_url': 'http://myappwebsite.com',
              '$ios_url': 'http://myappwebsite.com/ios',
              '$ipad_url': 'http://myappwebsite.com/ipad',
              '$android_url': 'http://myappwebsite.com/android',
              '$og_app_id': '12345',
              '$og_title': 'My App',
              '$og_description': 'My app\'s description.',
              '$og_image_url': 'http://myappwebsite.com/image.png'
          }
      }, function(err, link) {
          console.log(err, link);
          document.getElementById("link").value=link;
          document.getElementById("error").value=err;
      });
    }
    
	</script>
<body>
  <h1>
      <input type="button" value="Click this button to generate a Branch link" name="no" onclick="createLink()"><br>
      <input type="text" id="link" size="100"><br>
      <input type="text" id="error" size="100"><br>
  </h1>
</body>
</html>
