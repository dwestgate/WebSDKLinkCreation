<!DOCTYPE html>
<html>
<head>
	<title>Web SDK Link Creation</title>
</head>
	<script type="text/javascript">
		(function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent".split(" "), 0);
		branch.init('key_live_feebgAAhbH9Tv85H5wLQhpdaefiZv5Dv', function(err, data) {
			document.getElementsByClassName('info')[0].innerHTML = JSON.stringify(data);
		});
    
    function createLink() {
      branch.link({
          tags: [ 'tag1', 'tag2' ],
          channel: 'facebook',
          feature: 'dashboard',
          stage: 'new user',
          data: {
              '$deeplink_path': '{\"version\":\"1.0\",\"sourceUrl\":\"https%3A%2F%2Fapp.listonic.com%2Ftestwidget.html\",\"data\":{\"items\":[\"%25%203%2F2%20%20szklanki%20dobrej%20m%C4%85ki%20np.%20tortowej%20%20\",\"%201%2C2%20szklanka%20mleka%20(%20ciep%C5%82ego%2C%20ale%20nie%20gor%C4%85ce)%20\",\"%201%2F2%20szklanki%20wody%20(%20letniej)%20\",\"%2045%20g.%20dro%C5%BCd%C5%BCy%20%C5%9Bwie%C5%BCych%20\",\"%201%2F4%20%C5%82y%C5%BCeczki%20cukru%20\",\"%201%2F2%20%20%C5%82y%C5%BCeczki%20soli%20\",\"%20%C5%82y%C5%BCka%20oliwy%20z%20oliwek%20\",\"%203%20%C5%82y%C5%BCki%20koncentratu%20pomidorowego%20\",\"%205-6%20suszonych%20pomidor%C3%B3w%20\",\"%201%20%C5%82y%C5%BCka%20ketchupu%20\",\"%20p%C3%B3%C5%82%20%C5%82y%C5%BCeczki%20oregano%20\",\"%20p%C3%B3%C5%82%20%C5%82y%C5%BCeczki%20bazylii%20\",\"%203%2F2%20%20szklanki%20dobrej%20m%C4%85ki%20np.%20tortowej%20\",\"%201%20szklanka%20mleka%20(%20ciep%C5%82ego%2C%20ale%20nie%20gor%C4%85ce)%20\",\"%201%2F2%20szklanki%20wody%20(%20letniej)%20\",\"%2045%20g.%20dro%C5%BCd%C5%BCy%20%C5%9Bwie%C5%BCych%20\",\"%2011%2F4%20%C5%82y%C5%BCeczki%20cukru%20\",\"%201%2F2%20%20%C5%82y%C5%BCeczki%20soli%20\",\"%201%C5%82y%C5%BCka%20oliwy%20z%20oliwek%20\",\"%203%20%C5%82y%C5%BCki%20koncentratu%20pomidorowego%20\",\"%205-6%20suszonych%20pomidor%C3%B3w\"],\"name\":\"Pizza domowa -pyszna\"}}'
              mydata: 'something',
              foo: 'bar',
              '$desktop_url': 'http://myappwebsite.com',
              '$ios_url': 'http://myappwebsite.com/ios',
              '$ipad_url': 'http://myappwebsite.com/ipad',
              '$android_url': 'http://myappwebsite.com/android',
              '$og_app_id': '12345',
              '$og_title': 'My App',
              '$og_description': 'My app\'s description.',
              '$og_image_url': 'http://myappwebsite.com/image.png'
          }
      }, function(err, link) {
          console.log(err, link);
          document.getElementById("link").value=link;
          document.getElementById("error").value=err;
      });
    }
    
	</script>
<body>
  <h1>
		<div class="container">
      <input type="button" value="Click this button to create a Branch link" name="no" onclick="createLink()">
      <input type="text" id="link" size="80">
      <input type="text" id="error" size="80">
		</div>
  </h1>
</body>
</html>
